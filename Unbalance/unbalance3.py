

import numpy as np
import matplotlib.pyplot as plt
def unbalance5(fft_listX,fft_listY,fft_listZ,sampling_frequency,rpm,angle):
	
	Fs = sampling_frequency
	T = 1/Fs
	N = len(fft_listX)
	
	rpm = rpm//60               #to frequency
	limit_start1=int(0.8*rpm)            #CHANGE WITH RESPECT TO WINDOW BASED ON LOAD.
	limit_end1=int(1.2*(rpm))
	
	averaged_fftX = fft_listX
	averaged_fftY = fft_listY
	averaged_fftZ = fft_listZ

	start_angle=int(90-30)
	end_angle=int(90+30)

	yf_X=abs(np.array(averaged_fftX)[0:N // 2])
	xf_X = np.linspace(0.0, 1.0 / (2.0 * T), N // 2)
	print('len(yf_X',len(yf_X))
	print('len(yf_X',len(xf_X))


	# plt.plot(xf_X,yf_X)
	# plt.show()
	
	yf_Y=abs(np.array(averaged_fftY)[0:N // 2])
	xf_Y = np.linspace(0.0, 1.0 / (2.0 * T), N // 2)
	yf_Z=abs(np.array(averaged_fftZ)[0:N // 2])
	xf_Z = np.linspace(0.0, 1.0 / (2.0 * T), N // 2)

	rms_fft_amplitude_X = np.sqrt(np.mean(np.square(yf_X)))
	above_rms_ampl_X = [list(yf_X).index(i) for i in yf_X if i>rms_fft_amplitude_X]
	above_rms_ampl_X_values = [i for i in yf_X if i>rms_fft_amplitude_X]
	frequencycorrestoaboveamp_X = [list(xf_X)[j] for j in above_rms_ampl_X]
	# print('frequencycorrestoaboveamp_X',len(yf_X),len(frequencycorrestoaboveamp_X))

	rms_fft_amplitude_Y = np.sqrt(np.mean(np.square(yf_Y)))
	above_rms_ampl_Y = [list(yf_Y).index(i) for i in yf_Y if i>rms_fft_amplitude_Y]
	above_rms_ampl_Y_values = [i for i in yf_Y if i>rms_fft_amplitude_Y]
	frequencycorrestoaboveamp_Y = [list(xf_Y)[j] for j in above_rms_ampl_Y]
	# print('frequencycorrestoaboveamp_X',len(yf_Y),len(frequencycorrestoaboveamp_Y))


	rms_fft_amplitude_Z = np.sqrt(np.mean(np.square(yf_Z)))
	above_rms_ampl_Z = [list(yf_Z).index(i) for i in yf_Z if i>rms_fft_amplitude_Z]
	above_rms_ampl_Z_values = [i for i in yf_Z if i>rms_fft_amplitude_Z]
	frequencycorrestoaboveamp_Z = [list(xf_Z)[j] for j in above_rms_ampl_Z]
	# print('frequencycorrestoaboveamp_X',len(yf_Z),len(frequencycorrestoaboveamp_Z))


	onexrangevaluesFreq_X = [i for i in frequencycorrestoaboveamp_X if limit_start1<= i <=limit_end1]
	onexrangevaluesFreq_Y = [i for i in frequencycorrestoaboveamp_Y if limit_start1<= i <=limit_end1]
	onexrangevaluesFreq_Z = [i for i in frequencycorrestoaboveamp_Z if limit_start1<= i <=limit_end1]

	oneXrangeAmplitude_X_index = [frequencycorrestoaboveamp_X.index(i) for i in onexrangevaluesFreq_X]
	oneXrangeAmplitude_X1 = [above_rms_ampl_X_values[i] for i in oneXrangeAmplitude_X_index]
	oneXrangeAmplitude_Y_index = [frequencycorrestoaboveamp_Y.index(i) for i in onexrangevaluesFreq_Y]
	oneXrangeAmplitude_Y1 = [above_rms_ampl_Y_values[i] for i in oneXrangeAmplitude_Y_index]
	oneXrangeAmplitude_Z_index = [frequencycorrestoaboveamp_Z.index(i) for i in onexrangevaluesFreq_Z]
	oneXrangeAmplitude_Z1 = [above_rms_ampl_Z_values[i] for i in oneXrangeAmplitude_Z_index]
	# print('oneXrangeAmplitude_X1',oneXrangeAmplitude_X1)
	# print('oneXrangeAmplitude_Y1',oneXrangeAmplitude_Y1)
	# print('oneXrangeAmplitude_Z1',oneXrangeAmplitude_Z1)

	compareXand_Z = list(set([i for i in oneXrangeAmplitude_X1 for j in oneXrangeAmplitude_Z1 if i>j]))
	compareYand_Z = list(set([i for i in oneXrangeAmplitude_Y1 for j in oneXrangeAmplitude_Z1 if i>j]))
	# print('compareXand_Z',compareXand_Z)
	# print('compareYand_Z',compareYand_Z)
	
	if onexrangevaluesFreq_X == [] and onexrangevaluesFreq_Y == [] and onexrangevaluesFreq_Z==[]:
		print('1check for other faultssss')
	else:
		onexrpmvalue_X = float(np.mean(onexrangevaluesFreq_X))
		onexrpmvalue_Y = float(np.mean(onexrangevaluesFreq_Y))
		onexrpmvalue_Z = float(np.mean(onexrangevaluesFreq_Z))
			# print('onexrpmvalue_X',onexrpmvalue_X)
			# print('onexrpmvalue_Y',onexrpmvalue_Y)
			# print('onexrpmvalue_Z',onexrpmvalue_Z)


		multi1xvalues_X = [i for i in frequencycorrestoaboveamp_X if ((onexrpmvalue_X*2)-2)<= i <= ((onexrpmvalue_X*2)+2) or ((onexrpmvalue_X*3)-2)<= i <= ((onexrpmvalue_X*3)+2)]
		multi1xvalues_Y = [i for i in frequencycorrestoaboveamp_Y if ((onexrpmvalue_Y*2)-2)<= i <= ((onexrpmvalue_Y*2)+2) or ((onexrpmvalue_Y*3)-2)<= i <= ((onexrpmvalue_Y*3)+2)]
		multi1xvalues_Z = [i for i in frequencycorrestoaboveamp_Z if ((onexrpmvalue_Z*2)-2)<= i <= ((onexrpmvalue_Z*2)+2) or ((onexrpmvalue_Z*3)-2)<= i <= ((onexrpmvalue_Z*3)+2)]
			
		multi1xvalueFrequeAmplitudes_for_ratioX =[frequencycorrestoaboveamp_X.index(i) for i in frequencycorrestoaboveamp_X if ((onexrpmvalue_X*2)-2)<= i <= ((onexrpmvalue_X*2)+2) or ((onexrpmvalue_X*3)-2)<= i <= ((onexrpmvalue_X*3)+2)]
		amplLessthanfiftypercent1xampl_X = [above_rms_ampl_X_values[i] for i in multi1xvalueFrequeAmplitudes_for_ratioX if i< (np.mean(oneXrangeAmplitude_X1)*0.5)]
		multi1xvalueFrequeAmplitudes_for_ratioY =[frequencycorrestoaboveamp_Y.index(i) for i in frequencycorrestoaboveamp_Y if ((onexrpmvalue_Y*2)-2)<= i <= ((onexrpmvalue_Y*2)+2) or ((onexrpmvalue_Y*3)-2)<= i <= ((onexrpmvalue_Y*3)+2)]
		amplLessthanfiftypercent1xampl_Y = [above_rms_ampl_Y_values[i] for i in multi1xvalueFrequeAmplitudes_for_ratioY if i< (np.mean(oneXrangeAmplitude_Y1)*0.5)]
		multi1xvalueFrequeAmplitudes_for_ratioZ =[frequencycorrestoaboveamp_Z.index(i) for i in frequencycorrestoaboveamp_Z if ((onexrpmvalue_Z*2)-2)<= i <= ((onexrpmvalue_Z*2)+2) or ((onexrpmvalue_Z*3)-2)<= i <= ((onexrpmvalue_Z*3)+2)]
		amplLessthanfiftypercent1xampl_Z = [above_rms_ampl_Z_values[i] for i in multi1xvalueFrequeAmplitudes_for_ratioZ if i< (np.mean(oneXrangeAmplitude_Z1)*0.5)]

		if amplLessthanfiftypercent1xampl_X!=[] or amplLessthanfiftypercent1xampl_Y!=[] or amplLessthanfiftypercent1xampl_Z!=[]:
			print('Unbalance will be there')



			# print('multi1xvalues_X',multi1xvalues_X)
			# print('multi1xvalues_Y',multi1xvalues_Y)
			# print('multi1xvalues_Z',multi1xvalues_Z)

			# print('1',amplLessthanfiftypercent1xampl_X)
			# print('2',amplLessthanfiftypercent1xampl_Y)
			# print('3',amplLessthanfiftypercent1xampl_Z)
			

		if multi1xvalues_X == [] and multi1xvalues_Y==[]:

			if compareXand_Z!=[] and compareYand_Z!=[]:

				if  start_angle<= angle <=end_angle:
					print('Unbalance')
				else:
					print('2Check for Misalignment or other faults ')
			else:
				print('3Check for misalignment')
		else:	
			print('4Check for Misalignment')
	






horizonta_x = [(-1.3461454173580023e-15+0j), (-1.0689366140240388+0.3728689951654884j), (-0.09811263994439287-0.09281317957615456j), (0.4052928082898223+0.2903430906924716j), (1.1411526946385953-0.9938212044076664j), (0.08598959067151518-0.4958168085200595j), (1.1114071022757444+0.020330445474960906j), (0.13239568277603114-0.27595020482670607j), (0.49815370596373254+0.709868403120638j), (0.3624097707757525-0.40794686743403985j), (0.4868577941690449-0.3799651481697185j), (-0.29664777790507413-0.5533144573918232j), (-1.1215966716519579+0.9843641362020301j), (-0.7395162732659102+1.2228954314829625j), (-0.7733620641958815+0.25922600828646747j), (-0.6011618150284642+1.0399775292329347j), (0.24089488956549143-0.4527304671822293j), (-0.5656118863594933-0.4014748768461538j), (-0.06905723499334782+1.3031242702005112j), (0.5641696292594965-0.6109147654805114j), (-0.3068296607812409-1.4560379609999046j), (0.28966570027227023-0.969311715084715j), (0.6847176770759069-0.7243754098216781j), (-0.9758283226800881-0.1075113580353596j), (0.8556355818169394-1.5965622362877143j), (-1.5869053192166014+1.2405051027018907j), (0.23035786633747735+0.13603752282324133j), (-0.06343809670968734+1.3168584464528952j), (0.6448714249707524-0.19857830256509362j), (2.4075441499765877-1.0544999871670637j), (0.2930905661921432+0.6260141092529055j), (0.6717148538170966-0.15427691416684033j), (0.06573663880813564-1.2377603694321777j), (0.8247086391994645+0.05163220147174932j), (0.6341269096399325+1.021674031872471j), (0.05639736494686948+0.42545389246226517j), (-0.08245032135297094-0.6666879519893587j), (2.156300277107934+1.1261657508749363j), (-0.1455026376452534-0.7150241003723575j), (-1.1911641966049322+0.26794809122784535j), (-1.2022216290146517-0.26194707613267315j), (-0.017943228287834012+0.8047576279807591j), (1.9308597901198215-0.6357239001898108j), (-0.14501896285918603+0.12109551955337891j), (2.227403391143969-1.5425059190936594j), (-1.728144750457458+0.2397341971334258j), (0.991204138805057-2.5998694973868033j), (5.897938657438683-7.734826658840001j), (-1.1634041484203583+2.5318915740643844j), (-2.1895902286506836+3.1574418535032125j), (-0.5142264053197145+2.402046659558861j), (-1.832821163774408-0.641435758630282j), (-0.15530630308276977-1.0543657222815608j), (0.3734296677529113+0.1513298768409188j), (0.5990951844742587-0.36249641850108444j), (-0.05683334032181696+1.0646112031179873j), (0.2681206777781298-0.5386169014048732j), (0.6125759821625345+0.23432793026125584j), (-1.8152560684744152-0.48433712956153235j), (-0.2318621418085114+0.26778707355074316j), (0.5452959754498072+0.13774561330837393j), (-1.1833251948735963-0.13643526063178202j), (0.09112174590346317-1.4706705106080744j), (-0.19456059133281464+0.29582719385406503j), (-0.2857235556859064-0.4072426776253162j), (-0.32092522911772225-0.8995067037413588j), (-0.6407335176415802+0.6237112299381582j), (-1.0092021021952275-0.8184824635159614j), (-0.9785132271716107+0.5432147212720451j), (0.09909731507986302+0.36061700637495087j), (0.043113547620219794-0.14206037506894853j), (-0.4762116359854079-1.3282651191370278j), (0.21847223343529004+0.8343153269913893j), (-0.4751783030700205+0.3814069121844943j), (-0.6164650925552999-0.2890392605019597j), (1.253870740408395+0.2820852977555097j), (0.21122955880219613+1.3573943593230335j), (-0.18487485939406323+0.08541714163541222j), (-0.7867197239028956-0.6134188087942312j), (0.1446470827143861-0.6679401228746512j), (-1.3130647768306025+0.6338347761907104j), (0.33999022218219954-0.035130622454637744j), (-0.40004778246862344-0.1765012948266238j), (0.5089505798146062-0.47179598802203165j), (-0.7657979088270631+0.3315040494375091j), (0.647306445716124+0.8081312423130456j), (-0.5589033258689453+0.7149108843898424j), (0.30993234575629725+0.4522439899473742j), (-0.12047076221040057-0.4165389683432703j), (0.8536792228939657+0.4867212460166357j), (-0.03955361970293997-0.3728747432543057j), (0.13616466018133647+0.4233018655364938j), (-0.682891071831602+0.36317567181270727j), (0.14865536195197177-0.08733532711949943j), (-1.302395126537829+0.3051702891960148j), (0.33315923747757686-0.5150076621190137j), (-0.4841827388727079-0.7029305258519665j), (-0.134524854744332-0.26415713465040447j), (-0.41137586186878755-0.6982612795533374j), (0.7704652705893803+0.5757356035395605j), (-0.4491537874998952-1.454765820616058j), (-0.4745600601006035-0.6873289317622338j), (1.0282314647349184-2.1902488073185826j), (1.0080129738523178-2.516972002349524j), (0.030486699876087653-0.6690842826189128j), (0.3948812981338881+0.15860468065403252j), (-0.2784685846342073-0.42322963949338943j), (0.5369574858708258+1.1092630680646014j), (0.056681720665467644+0.9757847037745572j), (0.6736497773086523-0.3499533539925255j), (2.394036980685691-0.03150424978577866j), (1.030577008902911+0.7381003825096675j), (1.9375624947325891-0.574045059983526j), (-2.449838124028007+0.014401533778756331j), (-0.7056507122885026+0.9203645286984111j), (0.20193129495453+0.19522711415844737j), (-0.6001431431494435-0.04218499172265644j), (-1.0203690763809088-0.4301874527552651j), (-0.510439356249836-0.017876023824244566j), (-0.9581535543545119+0.18050485775843547j), (-0.29573474068220484+1.1020596482882015j), (0.649362825729056+0.2914840377239112j), (-0.4452437322651145+0.09689430839035224j), (-0.8464518307902988+0.30848487570610084j), (-1.0444802065512504-0.2994286825894461j), (-0.886024202992152-0.9384301096728734j), (-0.47940157400429245+0.7137186884253919j), (-0.3782975562897304-0.7482121603463319j), (-0.8252988249663177-0.8212319714301312j), (-0.8252988249663177+0.8212319714301312j), (-0.3782975562897304+0.7482121603463319j), (-0.47940157400429245-0.7137186884253919j), (-0.886024202992152+0.9384301096728734j), (-1.0444802065512504+0.2994286825894461j), (-0.8464518307902988-0.30848487570610084j), (-0.4452437322651145-0.09689430839035224j), (0.649362825729056-0.2914840377239112j), (-0.29573474068220484-1.1020596482882015j), (-0.9581535543545119-0.18050485775843547j), (-0.510439356249836+0.017876023824244566j), (-1.0203690763809088+0.4301874527552651j), (-0.6001431431494435+0.04218499172265644j), (0.20193129495453-0.19522711415844737j), (-0.7056507122885026-0.9203645286984111j), (-2.449838124028007-0.014401533778756331j), (1.9375624947325891+0.574045059983526j), (1.030577008902911-0.7381003825096675j), (2.394036980685691+0.03150424978577866j), (0.6736497773086523+0.3499533539925255j), (0.056681720665467644-0.9757847037745572j), (0.5369574858708258-1.1092630680646014j), (-0.2784685846342073+0.42322963949338943j), (0.3948812981338881-0.15860468065403252j), (0.030486699876087653+0.6690842826189128j), (1.0080129738523178+2.516972002349524j), (1.0282314647349184+2.1902488073185826j), (-0.4745600601006035+0.6873289317622338j), (-0.4491537874998952+1.454765820616058j), (0.7704652705893803-0.5757356035395605j), (-0.41137586186878755+0.6982612795533374j), (-0.134524854744332+0.26415713465040447j), (-0.4841827388727079+0.7029305258519665j), (0.33315923747757686+0.5150076621190137j), (-1.302395126537829-0.3051702891960148j), (0.14865536195197177+0.08733532711949943j), (-0.682891071831602-0.36317567181270727j), (0.13616466018133647-0.4233018655364938j), (-0.03955361970293997+0.3728747432543057j), (0.8536792228939657-0.4867212460166357j), (-0.12047076221040057+0.4165389683432703j), (0.30993234575629725-0.4522439899473742j), (-0.5589033258689453-0.7149108843898424j), (0.647306445716124-0.8081312423130456j), (-0.7657979088270631-0.3315040494375091j), (0.5089505798146062+0.47179598802203165j), (-0.40004778246862344+0.1765012948266238j), (0.33999022218219954+0.035130622454637744j), (-1.3130647768306025-0.6338347761907104j), (0.1446470827143861+0.6679401228746512j), (-0.7867197239028956+0.6134188087942312j), (-0.18487485939406323-0.08541714163541222j), (0.21122955880219613-1.3573943593230335j), (1.253870740408395-0.2820852977555097j), (-0.6164650925552999+0.2890392605019597j), (-0.4751783030700205-0.3814069121844943j), (0.21847223343529004-0.8343153269913893j), (-0.4762116359854079+1.3282651191370278j), (0.043113547620219794+0.14206037506894853j), (0.09909731507986302-0.36061700637495087j), (-0.9785132271716107-0.5432147212720451j), (-1.0092021021952275+0.8184824635159614j), (-0.6407335176415802-0.6237112299381582j), (-0.32092522911772225+0.8995067037413588j), (-0.2857235556859064+0.4072426776253162j), (-0.19456059133281464-0.29582719385406503j), (0.09112174590346317+1.4706705106080744j), (-1.1833251948735963+0.13643526063178202j), (0.5452959754498072-0.13774561330837393j), (-0.2318621418085114-0.26778707355074316j), (-1.8152560684744152+0.48433712956153235j), (0.6125759821625345-0.23432793026125584j), (0.2681206777781298+0.5386169014048732j), (-0.05683334032181696-1.0646112031179873j), (0.5990951844742587+0.36249641850108444j), (0.3734296677529113-0.1513298768409188j), (-0.15530630308276977+1.0543657222815608j), (-1.832821163774408+0.641435758630282j), (-0.5142264053197145-2.402046659558861j), (-2.1895902286506836-3.1574418535032125j), (-1.1634041484203583-2.5318915740643844j), (5.897938657438683+7.734826658840001j), (0.991204138805057+2.5998694973868033j), (-1.728144750457458-0.2397341971334258j), (2.227403391143969+1.5425059190936594j), (-0.14501896285918603-0.12109551955337891j), (1.9308597901198215+0.6357239001898108j), (-0.017943228287834012-0.8047576279807591j), (-1.2022216290146517+0.26194707613267315j), (-1.1911641966049322-0.26794809122784535j), (-0.1455026376452534+0.7150241003723575j), (2.156300277107934-1.1261657508749363j), (-0.08245032135297094+0.6666879519893587j), (0.05639736494686948-0.42545389246226517j), (0.6341269096399325-1.021674031872471j), (0.8247086391994645-0.05163220147174932j), (0.06573663880813564+1.2377603694321777j), (0.6717148538170966+0.15427691416684033j), (0.2930905661921432-0.6260141092529055j), (2.4075441499765877+1.0544999871670637j), (0.6448714249707524+0.19857830256509362j), (-0.06343809670968734-1.3168584464528952j), (0.23035786633747735-0.13603752282324133j), (-1.5869053192166014-1.2405051027018907j), (0.8556355818169394+1.5965622362877143j), (-0.9758283226800881+0.1075113580353596j), (0.6847176770759069+0.7243754098216781j), (0.28966570027227023+0.969311715084715j), (-0.3068296607812409+1.4560379609999046j), (0.5641696292594965+0.6109147654805114j), (-0.06905723499334782-1.3031242702005112j), (-0.5656118863594933+0.4014748768461538j), (0.24089488956549143+0.4527304671822293j), (-0.6011618150284642-1.0399775292329347j), (-0.7733620641958815-0.25922600828646747j), (-0.7395162732659102-1.2228954314829625j), (-1.1215966716519579-0.9843641362020301j), (-0.29664777790507413+0.5533144573918232j), (0.4868577941690449+0.3799651481697185j), (0.3624097707757525+0.40794686743403985j), (0.49815370596373254-0.709868403120638j), (0.13239568277603114+0.27595020482670607j), (1.1114071022757444-0.020330445474960906j), (0.08598959067151518+0.4958168085200595j), (1.1411526946385953+0.9938212044076664j), (0.4052928082898223-0.2903430906924716j), (-0.09811263994439287+0.09281317957615456j), (-1.0689366140240388-0.3728689951654884j)]
VerticaaY = [(-4.3368086899420177e-16+0j), (0.021535851634331943+0.1332445262134749j), (-0.10650498721031855-0.1709272412970157j), (0.28918487388568814+0.18779139381321722j), (0.4229768755223513+0.10310556968590905j), (0.3063654493348073-0.12923913516125943j), (0.11248304114303223+0.4060041562414188j), (0.05898396708714723+0.2988619391425554j), (-0.37792290581948484-0.6905624765855733j), (-0.07322974657811629-0.26896378197158166j), (-0.3460784060150041+0.20596547786674335j), (-0.2607260972766961+0.12761620613394928j), (-0.1347001420489086-0.709659966457481j), (-0.6943203270634128-0.8069369598808387j), (-0.19856791918434613+0.025143249234747214j), (-0.6079477726656258-0.34283403505588467j), (-0.25862126546523617-0.23819154584121008j), (0.2899449012686742+0.06955952931323299j), (-0.2657067014824951-0.012650534257314383j), (-0.11236632308383832-0.30463323662726594j), (-0.1555958484084692+0.13070798075538298j), (-0.07091048148488296-0.20472655973668324j), (0.03663630619976036+0.0733121854564j), (-0.04734415252228259+0.5376778699626108j), (0.1760545321556496-0.7580275401558266j), (0.026018310213726525-0.509244009254151j), (0.167942756582471-0.44582987044713057j), (0.13902413616847026+0.010998019337369012j), (-0.2804530565003355+0.2404302188556811j), (-0.4264479586647455+0.5583415741690236j), (0.24427109921939555-0.4463892407540672j), (-0.03500831457379483-0.18153934978187897j), (-0.008412473444396065-0.870714763379874j), (-0.10108776814241863-0.11919321635122879j), (0.03209714850773937-0.05126702368294839j), (-0.010425949394554712-0.0229205122155006j), (0.5707870570105971+0.4943042251720603j), (-0.3144953866733088-0.33589436244355764j), (0.28129519169357564+0.2995415478405189j), (-5.0426211475759763e-05+0.18184881270348918j), (0.03270997952389402+0.1491136047019583j), (-0.3994857612084497-0.06469045383927212j), (-0.23951182533560378+0.018269784012460502j), (0.14150787412815774+0.1808704340537549j), (-0.22172087068711782+0.410351413688393j), (-0.27818803446240736+0.24074739313126664j), (-0.6004223850758597-0.0058311621284266j), (-0.7293784535176799+0.10494717950884314j), (-0.4088858829253599+0.39255607178433627j), (0.15720104774045615+0.05506722065251839j), (0.21169942429505928-0.2610552005471764j), (-0.31099596550810393+0.05652519395522534j), (0.47730591837332753-0.0413676115360678j), (-0.46169804757108673+0.06267648888248104j), (0.039344388577699146-0.007121053654232851j), (0.04159830005639335-0.1140427619294059j), (-0.02854110334374267+0.052514028772616635j), (-0.039182428059465035+0.03991647760552954j), (-0.05057568051990424-0.39405208649517115j), (-0.1056574462440106-0.22390125686806425j), (-0.32640803280682146-0.316898846194167j), (-0.49698103565178414+0.39021179546310264j), (-0.15552463768693348-0.9362771631777308j), (0.46921533716138697+0.45870763395974773j), (-0.30253868677873874-0.014060027191065722j), (0.3987225547920102-0.5197208638245353j), (0.19684463217476558+0.20505043822856436j), (0.19121263509988912+0.34848357967444277j), (-0.020406530004606627+0.8278393888472464j), (0.7187338800374041-0.1574637059113014j), (-0.521453355891827+0.19950185471498813j), (0.3097785587672217+0.30596170987695737j), (-0.3318294769435501+0.2923919934482394j), (-0.032181751204584+0.14142577700484282j), (0.13305117027769037-0.018710400920585624j), (0.13748537188280818-0.3688584714945646j), (-0.3348297194459691-0.2175326876058915j), (-0.14182575058557378+0.1421306952133188j), (0.7064791105168144-0.2888696533923608j), (-0.4841026675856376-0.3159206257701993j), (0.35907268966364586-0.26609775442346184j), (0.2029836024041178+0.5075399417215006j), (-0.18023753835364958-0.05082914240593049j), (-0.017264768116687014-0.17471394618173403j), (0.034722803688748076+0.17801445964655555j), (-0.3480647470276146+0.09381159555773325j), (-0.1876892659670778-0.28658083059490885j), (-0.5551222327752989-0.45649930656798243j), (0.5708451676689487-0.3135846898808818j), (0.3970203982307745-0.1273353559411941j), (0.2539342774576756+0.12603401056318875j), (0.03634552668253435+0.055603085614129216j), (-0.2566596958512606-0.11146058365793551j), (0.3792450737707482+0.4698233556772585j), (0.7421873649408623+0.6018331214977534j), (-0.4924673690817227-0.03451798176659458j), (0.08135030392066031-0.6349380746444994j), (-0.3092654334759935+0.31372068474448545j), (-0.18603515201884852+0.11906258872922752j), (-0.21813383424610205-0.019743055327514303j), (0.46071429139896547-0.06622285470296j), (-0.5246430835669331+0.31999501086841853j), (-0.8167637421886605+1.2180736962753642j), (0.7463425057214146-0.0792552745850764j), (0.06936308623371396-0.554922255626675j), (-0.046571183718649406-0.2913970270203424j), (-0.24605789601225925-0.04282579915524623j), (-1.1285119152100946-0.3016013633803766j), (-0.3150269815595041-0.25958599566306917j), (0.028599651524190493+0.16966593172712918j), (-0.15853161803660565+0.2955787568928553j), (-0.3702103959130508-0.7161160370893156j), (-0.36891604373203685+0.14449305046239663j), (0.7870886519938285+0.008772879729771782j), (-0.2652876050960017-0.030394279842643535j), (-0.26949895506421895-0.1507867396164681j), (0.015589962723386159-0.5065097377702077j), (0.742091761442524-0.32554168066827127j), (-0.5827410257761092-0.1652682465649945j), (0.040464722902678246-0.17550867586310678j), (0.38465418610015467+0.25101264191462574j), (0.17940143997947283+0.11377023714249955j), (0.06351455390014624-0.6781936889514935j), (-0.6973485153552802-0.9004285875026692j), (-0.8648035732470967-0.14231368213809512j), (0.6854965958058948+0.0968744444480823j), (0.23333161396579044+0.7901688068143929j), (0.39862669910487813+0.41570802973400056j), (0.3382017654664328+0.3073957090257634j), (0.3382017654664328-0.3073957090257634j), (0.39862669910487813-0.41570802973400056j), (0.23333161396579044-0.7901688068143929j), (0.6854965958058948-0.0968744444480823j), (-0.8648035732470967+0.14231368213809512j), (-0.6973485153552802+0.9004285875026692j), (0.06351455390014624+0.6781936889514935j), (0.17940143997947283-0.11377023714249955j), (0.38465418610015467-0.25101264191462574j), (0.040464722902678246+0.17550867586310678j), (-0.5827410257761092+0.1652682465649945j), (0.742091761442524+0.32554168066827127j), (0.015589962723386159+0.5065097377702077j), (-0.26949895506421895+0.1507867396164681j), (-0.2652876050960017+0.030394279842643535j), (0.7870886519938285-0.008772879729771782j), (-0.36891604373203685-0.14449305046239663j), (-0.3702103959130508+0.7161160370893156j), (-0.15853161803660565-0.2955787568928553j), (0.028599651524190493-0.16966593172712918j), (-0.3150269815595041+0.25958599566306917j), (-1.1285119152100946+0.3016013633803766j), (-0.24605789601225925+0.04282579915524623j), (-0.046571183718649406+0.2913970270203424j), (0.06936308623371396+0.554922255626675j), (0.7463425057214146+0.0792552745850764j), (-0.8167637421886605-1.2180736962753642j), (-0.5246430835669331-0.31999501086841853j), (0.46071429139896547+0.06622285470296j), (-0.21813383424610205+0.019743055327514303j), (-0.18603515201884852-0.11906258872922752j), (-0.3092654334759935-0.31372068474448545j), (0.08135030392066031+0.6349380746444994j), (-0.4924673690817227+0.03451798176659458j), (0.7421873649408623-0.6018331214977534j), (0.3792450737707482-0.4698233556772585j), (-0.2566596958512606+0.11146058365793551j), (0.03634552668253435-0.055603085614129216j), (0.2539342774576756-0.12603401056318875j), (0.3970203982307745+0.1273353559411941j), (0.5708451676689487+0.3135846898808818j), (-0.5551222327752989+0.45649930656798243j), (-0.1876892659670778+0.28658083059490885j), (-0.3480647470276146-0.09381159555773325j), (0.034722803688748076-0.17801445964655555j), (-0.017264768116687014+0.17471394618173403j), (-0.18023753835364958+0.05082914240593049j), (0.2029836024041178-0.5075399417215006j), (0.35907268966364586+0.26609775442346184j), (-0.4841026675856376+0.3159206257701993j), (0.7064791105168144+0.2888696533923608j), (-0.14182575058557378-0.1421306952133188j), (-0.3348297194459691+0.2175326876058915j), (0.13748537188280818+0.3688584714945646j), (0.13305117027769037+0.018710400920585624j), (-0.032181751204584-0.14142577700484282j), (-0.3318294769435501-0.2923919934482394j), (0.3097785587672217-0.30596170987695737j), (-0.521453355891827-0.19950185471498813j), (0.7187338800374041+0.1574637059113014j), (-0.020406530004606627-0.8278393888472464j), (0.19121263509988912-0.34848357967444277j), (0.19684463217476558-0.20505043822856436j), (0.3987225547920102+0.5197208638245353j), (-0.30253868677873874+0.014060027191065722j), (0.46921533716138697-0.45870763395974773j), (-0.15552463768693348+0.9362771631777308j), (-0.49698103565178414-0.39021179546310264j), (-0.32640803280682146+0.316898846194167j), (-0.1056574462440106+0.22390125686806425j), (-0.05057568051990424+0.39405208649517115j), (-0.039182428059465035-0.03991647760552954j), (-0.02854110334374267-0.052514028772616635j), (0.04159830005639335+0.1140427619294059j), (0.039344388577699146+0.007121053654232851j), (-0.46169804757108673-0.06267648888248104j), (0.47730591837332753+0.0413676115360678j), (-0.31099596550810393-0.05652519395522534j), (0.21169942429505928+0.2610552005471764j), (0.15720104774045615-0.05506722065251839j), (-0.4088858829253599-0.39255607178433627j), (-0.7293784535176799-0.10494717950884314j), (-0.6004223850758597+0.0058311621284266j), (-0.27818803446240736-0.24074739313126664j), (-0.22172087068711782-0.410351413688393j), (0.14150787412815774-0.1808704340537549j), (-0.23951182533560378-0.018269784012460502j), (-0.3994857612084497+0.06469045383927212j), (0.03270997952389402-0.1491136047019583j), (-5.0426211475759763e-05-0.18184881270348918j), (0.28129519169357564-0.2995415478405189j), (-0.3144953866733088+0.33589436244355764j), (0.5707870570105971-0.4943042251720603j), (-0.010425949394554712+0.0229205122155006j), (0.03209714850773937+0.05126702368294839j), (-0.10108776814241863+0.11919321635122879j), (-0.008412473444396065+0.870714763379874j), (-0.03500831457379483+0.18153934978187897j), (0.24427109921939555+0.4463892407540672j), (-0.4264479586647455-0.5583415741690236j), (-0.2804530565003355-0.2404302188556811j), (0.13902413616847026-0.010998019337369012j), (0.167942756582471+0.44582987044713057j), (0.026018310213726525+0.509244009254151j), (0.1760545321556496+0.7580275401558266j), (-0.04734415252228259-0.5376778699626108j), (0.03663630619976036-0.0733121854564j), (-0.07091048148488296+0.20472655973668324j), (-0.1555958484084692-0.13070798075538298j), (-0.11236632308383832+0.30463323662726594j), (-0.2657067014824951+0.012650534257314383j), (0.2899449012686742-0.06955952931323299j), (-0.25862126546523617+0.23819154584121008j), (-0.6079477726656258+0.34283403505588467j), (-0.19856791918434613-0.025143249234747214j), (-0.6943203270634128+0.8069369598808387j), (-0.1347001420489086+0.709659966457481j), (-0.2607260972766961-0.12761620613394928j), (-0.3460784060150041-0.20596547786674335j), (-0.07322974657811629+0.26896378197158166j), (-0.37792290581948484+0.6905624765855733j), (0.05898396708714723-0.2988619391425554j), (0.11248304114303223-0.4060041562414188j), (0.3063654493348073+0.12923913516125943j), (0.4229768755223513-0.10310556968590905j), (0.28918487388568814-0.18779139381321722j), (-0.10650498721031855+0.1709272412970157j), (0.021535851634331943-0.1332445262134749j)]
axial_z = [(-1.1199374760906267e-14+0j), (0.09602727532143321-0.04470236271127033j), (0.3193029444101885+0.16355398427907208j), (0.06161195554855749+0.43059422784623297j), (-0.5163681895895983-0.7286152339075403j), (0.4704244988986018+0.6147211015664036j), (0.42772293242134946+0.37515018463702265j), (-0.006820209255130785-0.3876258774658713j), (0.1970060320068374-0.693396240157208j), (-0.08607003095132995-0.020385573515574656j), (0.05824389250002737-0.23849343206015078j), (-0.24893527997523573+0.452627821486127j), (0.8317608142565012+0.7976956488645817j), (0.6944208629018939+0.14533358716920658j), (0.6290333376663435-0.23665947665253034j), (0.04920167667546267+0.15134694872564536j), (0.07096635845221394-0.34547427635767114j), (-0.2733986248617223-0.5859876761532612j), (0.9929595363919436-0.6314770592497656j), (-0.5301982725370918+0.4754987905600064j), (-0.4340621776983496+0.5333225428400776j), (0.03240153480586616-0.24011298561435668j), (0.03634054232526293-0.5744206327408924j), (-0.13590527952463077+0.9937935147230954j), (-0.3085789354007502-0.48309564152496215j), (0.20088405922666303+1.6751424968453197j), (0.16765449099342183-0.5254008101191958j), (0.717511695980481+0.5371833589084825j), (0.07320576979159185-0.9344374228812212j), (0.6615809148107581-0.7384357965155632j), (-0.05566059986318522+0.44085741720460997j), (-0.08394748944755481+0.558028877214845j), (-0.16653319583500806-0.10626452913019083j), (0.6275090566985737-0.07933736137136348j), (-0.09785032866565194-0.428956680569942j), (0.05747768466047882+0.46377811430068244j), (-0.27045547014938676-0.10322974925878126j), (0.18887204111482175-0.12743857509568257j), (0.3955766679242787+0.22813964751197335j), (0.5925579181210715-0.11770438039065485j), (-0.4448003783505262-0.011685285027885156j), (0.7912513810820829-0.06548291869724016j), (1.006368626484459-1.2234655309354794j), (-0.22412837176718198-0.11597517862623426j), (-0.4143769802233988-2.0744401341670327j), (-0.4897894140568142+0.48280209898336524j), (-0.7298414214613175-1.1691279079809562j), (-1.7512879438678708-5.9142444192021575j), (-0.03800445477572304+1.819439119932014j), (1.1444865583076616+1.8476738549964211j), (1.2881078712489349+0.8474434782340083j), (-0.5549901937023529+0.567899115049326j), (-0.07856556173407252-0.4235273456533614j), (0.4376442412943635-0.03414549858565846j), (-0.009851462188692373-0.22147655772616237j), (-0.21726208316590132-0.1817128694006726j), (-0.21376545541192699+0.20363152536271054j), (0.3466059341759739+0.17962430861070441j), (-0.0961675789689096-0.32531767335049394j), (0.2593648472677542+0.4215206706658594j), (-0.19025082673637944+0.6573277629917098j), (0.5818867944981528+0.014639132455314209j), (-0.07385794514253052+0.7819309876597338j), (0.019395028937908926-0.07837150853828287j), (-0.19599532079939952-0.262411235654039j), (-0.18265851883293657+0.5020062575515408j), (-0.4341861990429591-0.053797447204248304j), (-0.32617765616775074+0.20733008239757844j), (0.19274980328630403+0.11004794408359903j), (0.04937580963817461+0.2289923033624262j), (0.24485875268112586-0.21168984566010385j), (0.0731221690453502+0.572590214266368j), (-0.17322605246522382+0.16566124472716273j), (0.388061620947727+0.10207969574215199j), (-0.6566672470847601-0.1245906696638848j), (-0.1832482347660741-0.1347706927022663j), (0.1791249893354599-0.03155604045946597j), (-0.2494686447610059+0.27401592105620687j), (-0.478151889930747-0.47798797366631407j), (0.14302010042911212+0.3225291345050325j), (-0.1122893885691787+0.2779063183664523j), (-0.0831202624297345+0.5435958278023372j), (0.052493738362276804-0.30222368764269186j), (0.10184559046121566+0.3086653764084338j), (0.3099840594426063-0.08441364781960572j), (-0.12624410818410597+0.10445902847666731j), (0.37276360855110385+0.26029824051918127j), (-0.2279474136715105-0.33033895000259705j), (-0.0028273751069546743+0.5792689214473059j), (-0.5796155987691158+0.31716782550805833j), (0.12126317865566019+0.17394533418240665j), (-0.09693975924022116+0.03709459137385748j), (0.4347748815581985-0.2525919047789637j), (-0.15975282467493676-0.17248661383510222j), (-0.5674541591766112-0.34363623309498204j), (0.6047261831435555+0.07008388601769057j), (0.05155487123896414-0.1105558145676194j), (0.21107484522832504-0.0578238207550382j), (0.6371069145493283-0.4631700638043105j), (-0.27073793516211186+0.16160722346524423j), (0.18785646117541754-0.21669611420526053j), (1.1610563302440249-0.031540700822268536j), (0.560840569811968+0.420919804882774j), (0.26737044393602705-0.7294823208197632j), (-0.08609993693469496-0.4579995587885498j), (0.013074346756289434+0.472882432369093j), (-0.17758685503403998-0.34819796185595225j), (-0.41508267718204084-0.03712676661628027j), (-1.0245966402479716+0.40590275648546004j), (0.056139531164999805+0.7115721504141703j), (-0.6516921493908737+0.31785382314894856j), (-0.38539383530011273+0.1954088192133122j), (-0.42623383435649925+0.3155344659372318j), (-0.18414937385671454-0.6343532907874422j), (-0.038498664266142846+0.1631090206156435j), (-0.11821734192170719+0.21269688690770044j), (-0.4543796813571555+0.26430936130983895j), (-0.03844437769750966+0.24020789942367338j), (-0.034764761371953334-0.1755140959885589j), (-0.5270441377582861-0.009085717042876723j), (-0.361566167503893-0.3752779827420032j), (-0.2706425018815684+0.0066013764565490286j), (-0.5103157887659109-0.1157377465351527j), (0.4203884727556615+0.5804785600077539j), (0.2907607966359613+0.4491093598401202j), (0.30623682458125695+0.10903754454786159j), (0.1796643135930136-0.3722677431368875j), (0.08295306126999029+0.2583720007883121j), (-0.05950956249341843-0.09704915621418664j), (-0.05950956249341843+0.09704915621418664j), (0.08295306126999029-0.2583720007883121j), (0.1796643135930136+0.3722677431368875j), (0.30623682458125695-0.10903754454786159j), (0.2907607966359613-0.4491093598401202j), (0.4203884727556615-0.5804785600077539j), (-0.5103157887659109+0.1157377465351527j), (-0.2706425018815684-0.0066013764565490286j), (-0.361566167503893+0.3752779827420032j), (-0.5270441377582861+0.009085717042876723j), (-0.034764761371953334+0.1755140959885589j), (-0.03844437769750966-0.24020789942367338j), (-0.4543796813571555-0.26430936130983895j), (-0.11821734192170719-0.21269688690770044j), (-0.038498664266142846-0.1631090206156435j), (-0.18414937385671454+0.6343532907874422j), (-0.42623383435649925-0.3155344659372318j), (-0.38539383530011273-0.1954088192133122j), (-0.6516921493908737-0.31785382314894856j), (0.056139531164999805-0.7115721504141703j), (-1.0245966402479716-0.40590275648546004j), (-0.41508267718204084+0.03712676661628027j), (-0.17758685503403998+0.34819796185595225j), (0.013074346756289434-0.472882432369093j), (-0.08609993693469496+0.4579995587885498j), (0.26737044393602705+0.7294823208197632j), (0.560840569811968-0.420919804882774j), (1.1610563302440249+0.031540700822268536j), (0.18785646117541754+0.21669611420526053j), (-0.27073793516211186-0.16160722346524423j), (0.6371069145493283+0.4631700638043105j), (0.21107484522832504+0.0578238207550382j), (0.05155487123896414+0.1105558145676194j), (0.6047261831435555-0.07008388601769057j), (-0.5674541591766112+0.34363623309498204j), (-0.15975282467493676+0.17248661383510222j), (0.4347748815581985+0.2525919047789637j), (-0.09693975924022116-0.03709459137385748j), (0.12126317865566019-0.17394533418240665j), (-0.5796155987691158-0.31716782550805833j), (-0.0028273751069546743-0.5792689214473059j), (-0.2279474136715105+0.33033895000259705j), (0.37276360855110385-0.26029824051918127j), (-0.12624410818410597-0.10445902847666731j), (0.3099840594426063+0.08441364781960572j), (0.10184559046121566-0.3086653764084338j), (0.052493738362276804+0.30222368764269186j), (-0.0831202624297345-0.5435958278023372j), (-0.1122893885691787-0.2779063183664523j), (0.14302010042911212-0.3225291345050325j), (-0.478151889930747+0.47798797366631407j), (-0.2494686447610059-0.27401592105620687j), (0.1791249893354599+0.03155604045946597j), (-0.1832482347660741+0.1347706927022663j), (-0.6566672470847601+0.1245906696638848j), (0.388061620947727-0.10207969574215199j), (-0.17322605246522382-0.16566124472716273j), (0.0731221690453502-0.572590214266368j), (0.24485875268112586+0.21168984566010385j), (0.04937580963817461-0.2289923033624262j), (0.19274980328630403-0.11004794408359903j), (-0.32617765616775074-0.20733008239757844j), (-0.4341861990429591+0.053797447204248304j), (-0.18265851883293657-0.5020062575515408j), (-0.19599532079939952+0.262411235654039j), (0.019395028937908926+0.07837150853828287j), (-0.07385794514253052-0.7819309876597338j), (0.5818867944981528-0.014639132455314209j), (-0.19025082673637944-0.6573277629917098j), (0.2593648472677542-0.4215206706658594j), (-0.0961675789689096+0.32531767335049394j), (0.3466059341759739-0.17962430861070441j), (-0.21376545541192699-0.20363152536271054j), (-0.21726208316590132+0.1817128694006726j), (-0.009851462188692373+0.22147655772616237j), (0.4376442412943635+0.03414549858565846j), (-0.07856556173407252+0.4235273456533614j), (-0.5549901937023529-0.567899115049326j), (1.2881078712489349-0.8474434782340083j), (1.1444865583076616-1.8476738549964211j), (-0.03800445477572304-1.819439119932014j), (-1.7512879438678708+5.9142444192021575j), (-0.7298414214613175+1.1691279079809562j), (-0.4897894140568142-0.48280209898336524j), (-0.4143769802233988+2.0744401341670327j), (-0.22412837176718198+0.11597517862623426j), (1.006368626484459+1.2234655309354794j), (0.7912513810820829+0.06548291869724016j), (-0.4448003783505262+0.011685285027885156j), (0.5925579181210715+0.11770438039065485j), (0.3955766679242787-0.22813964751197335j), (0.18887204111482175+0.12743857509568257j), (-0.27045547014938676+0.10322974925878126j), (0.05747768466047882-0.46377811430068244j), (-0.09785032866565194+0.428956680569942j), (0.6275090566985737+0.07933736137136348j), (-0.16653319583500806+0.10626452913019083j), (-0.08394748944755481-0.558028877214845j), (-0.05566059986318522-0.44085741720460997j), (0.6615809148107581+0.7384357965155632j), (0.07320576979159185+0.9344374228812212j), (0.717511695980481-0.5371833589084825j), (0.16765449099342183+0.5254008101191958j), (0.20088405922666303-1.6751424968453197j), (-0.3085789354007502+0.48309564152496215j), (-0.13590527952463077-0.9937935147230954j), (0.03634054232526293+0.5744206327408924j), (0.03240153480586616+0.24011298561435668j), (-0.4340621776983496-0.5333225428400776j), (-0.5301982725370918-0.4754987905600064j), (0.9929595363919436+0.6314770592497656j), (-0.2733986248617223+0.5859876761532612j), (0.07096635845221394+0.34547427635767114j), (0.04920167667546267-0.15134694872564536j), (0.6290333376663435+0.23665947665253034j), (0.6944208629018939-0.14533358716920658j), (0.8317608142565012-0.7976956488645817j), (-0.24893527997523573-0.452627821486127j), (0.05824389250002737+0.23849343206015078j), (-0.08607003095132995+0.020385573515574656j), (0.1970060320068374+0.693396240157208j), (-0.006820209255130785+0.3876258774658713j), (0.42772293242134946-0.37515018463702265j), (0.4704244988986018-0.6147211015664036j), (-0.5163681895895983+0.7286152339075403j), (0.06161195554855749-0.43059422784623297j), (0.3193029444101885-0.16355398427907208j), (0.09602727532143321+0.04470236271127033j)]

obj = unbalance5(horizonta_x,VerticaaY,axial_z,1600,1200,90)





# dYNASPEDE_good_data: phase:x-y=90, x-z = 90.66, y-z = 88
# Misaligned x-y:167   x-z = 99  y-z=78   y-x=167


# compareYand_Z and compareXand_Z are lists: taking peak frequency values present in the range 0.8x to 1.8x.
# With respect to 1x peak frequencies taking corresponding amplitudes of these frequencies for all
# 3 axes. checking 1x amplitude values are greater than axial similarly checking 1x amplitude
# values of vertical are greater than axial, if they are greater then these values will be 
# saved in compareXand_Z and compareYand_Z. So if these 2 lists are not empty that is if radial axesvalues 
# are greater than axial then there is unbalance.

# if there will not be any multiple values of 1x frequency and if angle between horizontal and
# vertical axes is withtin range of 60 to 120 then there is unbalance or else there will be misalignment.


# RatioX here we are taking all amplitudes present in the range 0.8x to 1.2x taking mean of that because
# if multiple values will be there we can get single value itself after that multiplying it by 0.5
# Like in terms of frequency I'm telling if 20hz frequency value present in 1x range whose amplitude is around
# 4.1076 then you need to check presence of 2x peak at what percent, because if 2x peak amplitude is higher
# than 1x amplitude peak then it won't be called as unbalance. So now I'm taking 1x amplitude which is 
# example 4.107638 and to check 2x that is if 2x peak will be less than or according to skf there should not
# be high 2x peak so 2x peak should be less than (50%(1x peak))    that is 50% of qx peak means
# 4.107638*0.5 = 2.053819. and even 3x should be less than (50%(1x peak)) as in my logic. If there
# will be some elements in RatioX then it means that some values present which are less than 50%(1x amlitude peak)


####################if onexrpmvalue_X==[] and onexrpmvalue_Y==[] and onexrpmvalue_Z!=[]:
# This above condition for when 1x range rpm value present in both horizontal and vertical direction but not in
# axial direction.